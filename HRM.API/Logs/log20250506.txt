2025-05-06 10:43:48.646 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 10:43:49.234 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 10:43:49.234 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2025-05-06 10:43:49.655 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 10:43:49.655 +07:00 [INF] Hosting environment: Development
2025-05-06 10:43:49.656 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 10:43:50.328 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2025-05-06 10:43:50.328 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 1107.6601ms
2025-05-06 10:43:51.348 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 1019.4524ms
2025-05-06 10:43:51.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.css - null null
2025-05-06 10:43:51.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2025-05-06 10:43:51.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2025-05-06 10:43:51.446 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 10:43:51.459 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2025-05-06 10:43:51.498 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.js - null null
2025-05-06 10:43:51.510 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 10:43:51.513 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.js - 200 null application/javascript;charset=utf-8 15.2453ms
2025-05-06 10:43:51.525 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.7111ms
2025-05-06 10:43:51.534 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-05-06 10:43:51.535 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.css - 200 202 text/css 167.2705ms
2025-05-06 10:43:51.537 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-06 10:43:51.541 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 154949 text/css 173.3075ms
2025-05-06 10:43:51.542 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-06 10:43:51.547 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 88.5828ms
2025-05-06 10:43:51.575 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-06 10:43:51.614 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1466908 text/javascript 246.0337ms
2025-05-06 10:43:52.023 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 577.1756ms
2025-05-06 10:43:52.114 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 10:43:52.125 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.7756ms
2025-05-06 10:43:52.829 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 499 null null 3612.0168ms
2025-05-06 10:43:52.832 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 499
2025-05-06 10:43:55.907 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - null null
2025-05-06 10:43:55.916 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:43:55.953 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 10:44:01.148 +07:00 [INF] Executed DbCommand (232ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 10:44:01.212 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 10:44:01.229 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 5269.5076ms
2025-05-06 10:44:01.231 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:44:01.246 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - 200 null application/json; charset=utf-8 5339.4049ms
2025-05-06 10:44:09.049 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - null null
2025-05-06 10:44:09.056 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:44:09.057 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 10:44:09.186 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 10:44:09.413 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 10:44:09.417 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 359.4498ms
2025-05-06 10:44:09.417 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:44:09.419 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - 200 null application/json; charset=utf-8 370.1888ms
2025-05-06 10:44:13.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/4 - null null
2025-05-06 10:44:13.187 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:44:13.187 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 10:44:13.225 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 10:44:13.226 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 10:44:13.227 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 39.0612ms
2025-05-06 10:44:13.227 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:44:13.228 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/4 - 200 null application/json; charset=utf-8 43.8266ms
2025-05-06 10:44:18.455 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/100 - null null
2025-05-06 10:44:18.457 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:44:18.457 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 10:44:18.462 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 10:44:18.464 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 10:44:18.465 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 7.9764ms
2025-05-06 10:44:18.466 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:44:18.466 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/100 - 200 null application/json; charset=utf-8 11.0456ms
2025-05-06 10:46:44.354 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/-1 - null null
2025-05-06 10:46:44.355 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:46:44.356 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 10:46:44.420 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 10:46:44.421 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 10:46:44.422 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 65.4282ms
2025-05-06 10:46:44.422 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:46:44.423 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/-1 - 200 null application/json; charset=utf-8 68.4786ms
2025-05-06 10:46:48.167 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/-1 - null null
2025-05-06 10:46:48.169 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:46:48.169 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 10:46:48.174 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 10:46:48.176 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 10:46:48.177 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 7.9273ms
2025-05-06 10:46:48.178 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 10:46:48.178 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/-1 - 200 null application/json; charset=utf-8 11.2766ms
2025-05-06 11:01:39.556 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 11:01:40.043 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 11:01:40.155 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 11:01:40.155 +07:00 [INF] Hosting environment: Development
2025-05-06 11:01:40.156 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 11:01:40.460 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 404 null null 427.0218ms
2025-05-06 11:01:40.490 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 404
2025-05-06 11:01:44.205 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 11:01:44.205 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 11:01:44.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 80.0578ms
2025-05-06 11:01:44.388 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 185.0598ms
2025-05-06 11:01:44.688 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 11:01:44.733 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.0808ms
2025-05-06 11:01:52.104 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - null null
2025-05-06 11:01:52.164 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:01:52.215 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 11:01:55.314 +07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 11:01:55.560 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 11:01:55.575 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 3338.1413ms
2025-05-06 11:01:55.576 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:01:55.588 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - 200 null application/json; charset=utf-8 3483.5386ms
2025-05-06 11:01:59.618 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/21 - null null
2025-05-06 11:01:59.626 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:01:59.627 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 11:01:59.727 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 11:09:30.184 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 11:09:30.524 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 11:09:30.605 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 11:09:30.605 +07:00 [INF] Hosting environment: Development
2025-05-06 11:09:30.605 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 11:09:30.871 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 404 null null 355.9683ms
2025-05-06 11:09:30.901 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 404
2025-05-06 11:09:34.674 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 11:09:34.674 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 11:09:34.765 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 86.5416ms
2025-05-06 11:09:34.794 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 122.1014ms
2025-05-06 11:09:34.876 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 11:09:34.906 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.2083ms
2025-05-06 11:09:38.395 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - null null
2025-05-06 11:09:38.444 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:09:38.480 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 11:09:41.563 +07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 11:09:41.817 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 11:09:41.833 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 3345.9244ms
2025-05-06 11:09:41.834 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:09:41.847 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - 200 null application/json; charset=utf-8 3451.6126ms
2025-05-06 11:09:45.003 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - null null
2025-05-06 11:09:45.011 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:09:45.013 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 11:09:45.109 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 11:12:15.936 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 11:12:16.511 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 11:12:16.632 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 11:12:16.633 +07:00 [INF] Hosting environment: Development
2025-05-06 11:12:16.633 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 11:12:16.938 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 404 null null 438.1531ms
2025-05-06 11:12:16.986 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 404
2025-05-06 11:12:40.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 11:12:41.014 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 11:12:41.054 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 80.9606ms
2025-05-06 11:12:41.093 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.1431ms
2025-05-06 11:12:41.159 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 11:12:41.186 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.8606ms
2025-05-06 11:12:45.410 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - null null
2025-05-06 11:12:45.467 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:12:45.521 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 11:12:48.488 +07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 11:12:57.484 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 11954.6444ms
2025-05-06 11:12:57.487 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:12:57.836 +07:00 [ERR] No current roles found for User with ID = 1
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 1
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 22
2025-05-06 11:12:58.077 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - 404 null application/json 12667.256ms
2025-05-06 11:13:05.141 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/25 - null null
2025-05-06 11:13:05.154 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:13:05.157 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 11:13:05.254 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 11:13:07.936 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 2778.7453ms
2025-05-06 11:13:07.938 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:13:08.153 +07:00 [ERR] No current roles found for User with ID = 25
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 25
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 22
2025-05-06 11:13:08.158 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/25 - 404 null application/json 3019.5416ms
2025-05-06 11:14:00.607 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2025-05-06 11:14:00.729 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 121.9505ms
2025-05-06 11:14:00.776 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 11:14:00.778 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 11:14:00.780 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 1.7638ms
2025-05-06 11:14:00.796 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.4379ms
2025-05-06 11:14:00.882 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 11:14:00.891 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.089ms
2025-05-06 11:14:00.897 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2025-05-06 11:14:00.913 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-06 11:14:00.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 16.4513ms
2025-05-06 11:14:14.894 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/99 - null null
2025-05-06 11:14:14.896 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:14:14.907 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 11:14:14.961 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 11:14:56.587 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 41679.2524ms
2025-05-06 11:14:56.600 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 11:14:56.963 +07:00 [ERR] No current roles found for User with ID = 99
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 99
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken)
   at lambda_method113(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context)
2025-05-06 11:14:56.974 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/99 - 404 null application/json 42080.9437ms
2025-05-06 11:16:32.270 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2025-05-06 11:16:32.284 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 13.5124ms
2025-05-06 11:16:32.351 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 11:16:32.353 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 11:16:32.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 1.1211ms
2025-05-06 11:16:32.365 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.3291ms
2025-05-06 11:16:32.445 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 11:16:32.450 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.6183ms
2025-05-06 11:16:41.100 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Auth/test-exception - null null
2025-05-06 11:16:41.101 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.AuthController.TestError (HRM.API)'
2025-05-06 11:16:41.102 +07:00 [INF] Route matched with {action = "TestError", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestError() on controller HRM.API.Controllers.AuthController (HRM.API).
2025-05-06 11:20:41.286 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 11:20:41.631 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 11:20:41.712 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 11:20:41.712 +07:00 [INF] Hosting environment: Development
2025-05-06 11:20:41.713 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 11:20:41.980 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 404 null null 357.9769ms
2025-05-06 11:20:42.025 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 404
2025-05-06 11:20:45.538 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 11:20:45.538 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 11:20:45.627 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 89.7522ms
2025-05-06 11:20:45.656 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 121.1807ms
2025-05-06 11:20:45.735 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 11:20:45.771 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.909ms
2025-05-06 11:23:25.947 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 11:23:26.277 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 11:23:26.674 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 11:23:26.674 +07:00 [INF] Hosting environment: Development
2025-05-06 11:23:26.675 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 11:23:26.651 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 404 null null 383.4185ms
2025-05-06 11:23:26.691 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 404
2025-05-06 11:23:30.622 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 11:23:30.634 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 11:23:30.724 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 103.3214ms
2025-05-06 11:23:30.794 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 159.8759ms
2025-05-06 11:23:30.879 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 11:23:30.954 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.7302ms
2025-05-06 11:23:33.878 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Auth/test-exception - null null
2025-05-06 11:23:33.916 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.AuthController.TestError (HRM.API)'
2025-05-06 11:23:33.948 +07:00 [INF] Route matched with {action = "TestError", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestError() on controller HRM.API.Controllers.AuthController (HRM.API).
2025-05-06 13:23:45.584 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 13:23:46.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 13:23:46.193 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 13:23:46.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 13:23:46.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 289.5775ms
2025-05-06 13:23:46.585 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 426.672ms
2025-05-06 13:23:46.666 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 13:23:46.870 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 13:23:46.870 +07:00 [INF] Hosting environment: Development
2025-05-06 13:23:46.870 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 13:23:46.871 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.1147ms
2025-05-06 13:23:49.456 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 499 null null 3297.8755ms
2025-05-06 13:23:49.459 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 499
2025-05-06 13:23:54.280 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/notfound - null null
2025-05-06 13:23:54.316 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:23:54.348 +07:00 [INF] Route matched with {action = "TestNotFoundException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestNotFoundException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:23:54.356 +07:00 [INF] Testing NotFoundException
2025-05-06 13:24:08.462 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API) in 14105.0152ms
2025-05-06 13:24:08.464 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:24:08.500 +07:00 [ERR] Test NotFoundException
HRM.Application.Exceptions.NotFoundException: Test NotFoundException
   at HRM.API.Controllers.TestExceptionController.TestNotFoundException() in D:\C# .Net Project\HRM\HRM.API\Controllers\TestExceptionController.cs:line 23
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:24:08.602 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/notfound - 404 null application/json 14321.4077ms
2025-05-06 13:28:47.968 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 13:28:48.570 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 13:28:48.570 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 13:28:48.570 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 13:28:48.707 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 155.5892ms
2025-05-06 13:28:48.781 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 235.333ms
2025-05-06 13:28:48.863 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 13:28:49.048 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 499 null null 503.0425ms
2025-05-06 13:28:49.053 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 499
2025-05-06 13:28:49.117 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 13:28:49.118 +07:00 [INF] Hosting environment: Development
2025-05-06 13:28:49.118 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 254.6591ms
2025-05-06 13:28:49.118 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 13:28:53.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/notfound - null null
2025-05-06 13:28:53.100 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:28:53.142 +07:00 [INF] Route matched with {action = "TestNotFoundException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestNotFoundException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:28:53.146 +07:00 [INF] Testing NotFoundException
2025-05-06 13:28:59.248 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API) in 6098.8372ms
2025-05-06 13:28:59.250 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:28:59.284 +07:00 [ERR] Test NotFoundException
HRM.Application.Exceptions.NotFoundException: Test NotFoundException
   at HRM.API.Controllers.TestExceptionController.TestNotFoundException() in D:\C# .Net Project\HRM\HRM.API\Controllers\TestExceptionController.cs:line 23
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:28:59.392 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/notfound - 404 null application/json 6323.3272ms
2025-05-06 13:31:54.331 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/notfound - null null
2025-05-06 13:31:54.341 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:31:54.342 +07:00 [INF] Route matched with {action = "TestNotFoundException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestNotFoundException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:31:54.343 +07:00 [INF] Testing NotFoundException
2025-05-06 13:31:59.314 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API) in 4971.3435ms
2025-05-06 13:31:59.316 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:32:02.842 +07:00 [ERR] Test NotFoundException
HRM.Application.Exceptions.NotFoundException: Test NotFoundException
   at HRM.API.Controllers.TestExceptionController.TestNotFoundException() in D:\C# .Net Project\HRM\HRM.API\Controllers\TestExceptionController.cs:line 23
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:32:02.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/notfound - 404 null application/json 8514.9913ms
2025-05-06 13:32:12.726 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/notfound - null null
2025-05-06 13:32:12.729 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:32:12.729 +07:00 [INF] Route matched with {action = "TestNotFoundException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestNotFoundException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:32:12.730 +07:00 [INF] Testing NotFoundException
2025-05-06 13:32:14.881 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API) in 2151.2504ms
2025-05-06 13:32:14.882 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:32:14.910 +07:00 [ERR] Test NotFoundException
HRM.Application.Exceptions.NotFoundException: Test NotFoundException
   at HRM.API.Controllers.TestExceptionController.TestNotFoundException() in D:\C# .Net Project\HRM\HRM.API\Controllers\TestExceptionController.cs:line 23
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:32:14.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/notfound - 404 null application/json 2187.5647ms
2025-05-06 13:32:34.139 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/notfound - null null
2025-05-06 13:32:34.143 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:32:34.144 +07:00 [INF] Route matched with {action = "TestNotFoundException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestNotFoundException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:32:34.144 +07:00 [INF] Testing NotFoundException
2025-05-06 13:32:35.507 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API) in 1362.7237ms
2025-05-06 13:32:35.509 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:32:35.546 +07:00 [ERR] Test NotFoundException
HRM.Application.Exceptions.NotFoundException: Test NotFoundException
   at HRM.API.Controllers.TestExceptionController.TestNotFoundException() in D:\C# .Net Project\HRM\HRM.API\Controllers\TestExceptionController.cs:line 23
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:32:35.550 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/notfound - 404 null application/json 1412.083ms
2025-05-06 13:34:38.762 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/notfound - null null
2025-05-06 13:34:38.767 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:34:38.767 +07:00 [INF] Route matched with {action = "TestNotFoundException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestNotFoundException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:34:38.767 +07:00 [INF] Testing NotFoundException
2025-05-06 13:35:44.107 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 13:35:44.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 13:35:44.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 13:35:44.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 13:35:44.790 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 213.5536ms
2025-05-06 13:35:44.846 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 13:35:44.846 +07:00 [INF] Hosting environment: Development
2025-05-06 13:35:44.846 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 13:35:44.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 350.3084ms
2025-05-06 13:35:45.012 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 13:35:45.204 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 499 null null 634.6831ms
2025-05-06 13:35:45.207 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 499
2025-05-06 13:35:45.280 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 268.3416ms
2025-05-06 13:35:48.524 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/notfound - null null
2025-05-06 13:35:48.551 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:35:48.585 +07:00 [INF] Route matched with {action = "TestNotFoundException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestNotFoundException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:35:48.589 +07:00 [INF] Testing NotFoundException
2025-05-06 13:35:48.802 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API) in 211.9028ms
2025-05-06 13:35:48.869 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 13:35:49.038 +07:00 [ERR] Test NotFoundException
HRM.Application.Exceptions.NotFoundException: Test NotFoundException
   at HRM.API.Controllers.TestExceptionController.TestNotFoundException() in D:\C# .Net Project\HRM\HRM.API\Controllers\TestExceptionController.cs:line 23
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:35:49.131 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/notfound - 404 null application/json 607.7916ms
2025-05-06 13:35:57.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/unhandled - null null
2025-05-06 13:35:57.780 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestUnhandledException (HRM.API)'
2025-05-06 13:35:57.785 +07:00 [INF] Route matched with {action = "TestUnhandledException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestUnhandledException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:35:57.786 +07:00 [INF] Testing unhandled exception
2025-05-06 13:35:57.978 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestUnhandledException (HRM.API) in 192.7318ms
2025-05-06 13:35:58.056 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestUnhandledException (HRM.API)'
2025-05-06 13:35:58.223 +07:00 [ERR] This is an unhandled exception test
System.InvalidOperationException: This is an unhandled exception test
   at HRM.API.Controllers.TestExceptionController.TestUnhandledException() in D:\C# .Net Project\HRM\HRM.API\Controllers\TestExceptionController.cs:line 37
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:35:58.228 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/unhandled - 500 null application/json 461.8736ms
2025-05-06 13:37:21.995 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - null null
2025-05-06 13:37:22.000 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:37:22.028 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:37:27.752 +07:00 [INF] Executed DbCommand (260ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:37:28.037 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 13:37:28.044 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 6014.6757ms
2025-05-06 13:37:28.045 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:37:28.067 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - 200 null application/json; charset=utf-8 6071.7503ms
2025-05-06 13:37:35.144 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/5 - null null
2025-05-06 13:37:35.149 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:37:35.150 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:37:35.262 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:37:36.390 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 1238.9873ms
2025-05-06 13:37:36.694 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:37:37.786 +07:00 [ERR] No current roles found for User with ID = 5
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 5
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:37:37.810 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/5 - 404 null application/json 2667.1212ms
2025-05-06 13:38:01.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/5 - null null
2025-05-06 13:38:01.020 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:01.021 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:38:01.109 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:38:02.055 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 1034.0084ms
2025-05-06 13:38:02.294 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:03.221 +07:00 [ERR] No current roles found for User with ID = 5
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 5
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:38:03.225 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/5 - 404 null application/json 2210.3044ms
2025-05-06 13:38:20.712 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/123 - null null
2025-05-06 13:38:20.716 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:20.716 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:38:20.723 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:38:21.766 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 1048.4255ms
2025-05-06 13:38:22.048 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:23.075 +07:00 [ERR] No current roles found for User with ID = 123
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 123
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:38:23.079 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/123 - 404 null application/json 2367.1354ms
2025-05-06 13:38:27.504 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - null null
2025-05-06 13:38:27.509 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:27.509 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:38:27.516 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:38:28.433 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 923.8379ms
2025-05-06 13:38:28.737 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:29.793 +07:00 [ERR] No current roles found for User with ID = 1
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 1
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:38:29.797 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - 404 null application/json 2293.1691ms
2025-05-06 13:38:33.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - null null
2025-05-06 13:38:33.765 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:33.765 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:38:33.820 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:38:33.824 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 13:38:33.825 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 59.6292ms
2025-05-06 13:38:33.825 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:33.829 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - 200 null application/json; charset=utf-8 68.8444ms
2025-05-06 13:38:36.374 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/3 - null null
2025-05-06 13:38:36.379 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:36.379 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:38:36.389 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:38:36.393 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 13:38:36.394 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 14.821ms
2025-05-06 13:38:36.395 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:36.399 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/3 - 200 null application/json; charset=utf-8 24.4594ms
2025-05-06 13:38:39.346 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/6 - null null
2025-05-06 13:38:39.353 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:39.353 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:38:39.358 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:38:40.379 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 1025.7043ms
2025-05-06 13:38:40.636 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:38:41.643 +07:00 [ERR] No current roles found for User with ID = 6
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 6
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:38:41.647 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/6 - 404 null application/json 2301.7187ms
2025-05-06 13:51:53.224 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/badrequest - null null
2025-05-06 13:51:53.230 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestBadRequestException (HRM.API)'
2025-05-06 13:51:53.234 +07:00 [INF] Route matched with {action = "TestBadRequestException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestBadRequestException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:51:53.235 +07:00 [INF] Testing BadRequestException
2025-05-06 13:51:53.402 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestBadRequestException (HRM.API) in 167.785ms
2025-05-06 13:51:53.467 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestBadRequestException (HRM.API)'
2025-05-06 13:51:53.627 +07:00 [ERR] Test BadRequestException
HRM.Application.Exceptions.BadRequestException: Test BadRequestException
   at HRM.API.Controllers.TestExceptionController.TestBadRequestException() in D:\C# .Net Project\HRM\HRM.API\Controllers\TestExceptionController.cs:line 30
   at lambda_method235(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:51:53.631 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/badrequest - 400 null application/json 406.9323ms
2025-05-06 13:51:57.386 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/success - null null
2025-05-06 13:51:57.391 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestSuccess (HRM.API)'
2025-05-06 13:51:57.394 +07:00 [INF] Route matched with {action = "TestSuccess", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestSuccess() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 13:51:57.395 +07:00 [INF] Testing successful request
2025-05-06 13:51:57.397 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-06 13:51:57.401 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestSuccess (HRM.API) in 6.9751ms
2025-05-06 13:51:57.401 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestSuccess (HRM.API)'
2025-05-06 13:51:57.406 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/success - 200 null application/json; charset=utf-8 19.0501ms
2025-05-06 13:52:02.675 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/111 - null null
2025-05-06 13:52:02.690 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:52:02.690 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:52:02.937 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:52:04.016 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 1325.624ms
2025-05-06 13:52:04.290 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:52:05.271 +07:00 [ERR] No current roles found for User with ID = 111
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 111
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:52:05.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/111 - 404 null application/json 2599.9691ms
2025-05-06 13:56:59.947 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/111 - null null
2025-05-06 13:56:59.951 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:56:59.951 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 13:57:00.048 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 13:59:07.495 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 127543.4189ms
2025-05-06 13:59:07.495 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 13:59:25.301 +07:00 [ERR] No current roles found for User with ID = 111
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 111
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 39
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 13:59:52.555 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/111 - 404 null application/json 172609.2773ms
2025-05-06 15:13:38.714 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 15:13:39.225 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 15:13:39.225 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 15:13:39.225 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 15:13:39.334 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 15:13:39.334 +07:00 [INF] Hosting environment: Development
2025-05-06 15:13:39.334 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 15:13:39.350 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 135.4311ms
2025-05-06 15:13:39.406 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 195.1032ms
2025-05-06 15:13:39.459 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 15:13:39.573 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.8915ms
2025-05-06 15:13:41.553 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 499 null null 2341.8742ms
2025-05-06 15:13:41.555 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 499
2025-05-06 15:14:35.230 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44395/api/Department - application/json 141
2025-05-06 15:14:35.276 +07:00 [INF] CORS policy execution successful.
2025-05-06 15:14:35.304 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:14:35.346 +07:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRM.Application.DTOs.Department.DepartmentCreateDTO, System.Threading.CancellationToken) on controller HRM.API.Controllers.DepartmentController (HRM.API).
2025-05-06 15:15:38.438 +07:00 [INF] Executed action HRM.API.Controllers.DepartmentController.Create (HRM.API) in 63066.5392ms
2025-05-06 15:15:38.479 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:15:38.565 +07:00 [ERR] Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 38
   at HRM.API.Controllers.DepartmentController.Create(DepartmentCreateDTO request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\DepartmentController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 15:15:38.634 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44395/api/Department - 500 null application/json 63404.4527ms
2025-05-06 15:15:50.380 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44395/api/Department - application/json 141
2025-05-06 15:15:50.385 +07:00 [INF] CORS policy execution successful.
2025-05-06 15:15:50.388 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:15:50.388 +07:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRM.Application.DTOs.Department.DepartmentCreateDTO, System.Threading.CancellationToken) on controller HRM.API.Controllers.DepartmentController (HRM.API).
2025-05-06 15:15:50.636 +07:00 [INF] Executed action HRM.API.Controllers.DepartmentController.Create (HRM.API) in 247.6094ms
2025-05-06 15:15:50.685 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:15:50.812 +07:00 [ERR] Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 38
   at HRM.API.Controllers.DepartmentController.Create(DepartmentCreateDTO request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\DepartmentController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 15:15:50.816 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44395/api/Department - 500 null application/json 435.5004ms
2025-05-06 15:19:52.568 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2025-05-06 15:19:52.667 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 98.9137ms
2025-05-06 15:19:52.714 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 15:19:52.716 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 1.5852ms
2025-05-06 15:19:52.728 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 15:19:52.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.7365ms
2025-05-06 15:19:53.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 15:19:53.035 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.3956ms
2025-05-06 15:35:40.852 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 15:35:41.122 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 15:35:41.122 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 15:35:41.122 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 15:35:41.262 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 143.9036ms
2025-05-06 15:35:41.282 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 15:35:41.282 +07:00 [INF] Hosting environment: Development
2025-05-06 15:35:41.282 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 15:35:41.339 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 229.0979ms
2025-05-06 15:35:41.483 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 15:35:41.586 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 499 null null 475.9523ms
2025-05-06 15:35:41.588 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 499
2025-05-06 15:35:41.632 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.8396ms
2025-05-06 15:35:57.323 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44395/api/Department - application/json 144
2025-05-06 15:35:57.336 +07:00 [INF] CORS policy execution successful.
2025-05-06 15:35:57.340 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:35:57.381 +07:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRM.Application.DTOs.Department.DepartmentCreateDTO, System.Threading.CancellationToken) on controller HRM.API.Controllers.DepartmentController (HRM.API).
2025-05-06 15:35:57.828 +07:00 [INF] Executed action HRM.API.Controllers.DepartmentController.Create (HRM.API) in 440.4706ms
2025-05-06 15:35:57.895 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:35:58.033 +07:00 [ERR] Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 38
   at HRM.API.Controllers.DepartmentController.Create(DepartmentCreateDTO request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\DepartmentController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 15:35:58.131 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44395/api/Department - 500 null application/json 808.1822ms
2025-05-06 15:39:39.570 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2025-05-06 15:39:39.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 78.7721ms
2025-05-06 15:39:39.693 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 15:39:39.695 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 15:39:39.699 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.5079ms
2025-05-06 15:39:39.740 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.1877ms
2025-05-06 15:39:39.804 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 15:39:39.813 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.5911ms
2025-05-06 15:40:04.144 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44395/api/Department - application/json 144
2025-05-06 15:40:04.153 +07:00 [INF] CORS policy execution successful.
2025-05-06 15:40:04.157 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:40:04.165 +07:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRM.Application.DTOs.Department.DepartmentCreateDTO, System.Threading.CancellationToken) on controller HRM.API.Controllers.DepartmentController (HRM.API).
2025-05-06 15:40:04.380 +07:00 [INF] Executed action HRM.API.Controllers.DepartmentController.Create (HRM.API) in 214.2173ms
2025-05-06 15:40:04.416 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:40:04.516 +07:00 [ERR] Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRM.API.Controllers.DepartmentController.Create(DepartmentCreateDTO request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\DepartmentController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 25
2025-05-06 15:40:04.540 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44395/api/Department - 500 null application/json 396.5388ms
2025-05-06 15:44:13.113 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 15:44:13.375 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 15:44:13.444 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 15:44:13.444 +07:00 [INF] Hosting environment: Development
2025-05-06 15:44:13.444 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 15:44:13.725 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 404 null null 357.8916ms
2025-05-06 15:44:13.749 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 404
2025-05-06 15:44:14.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 15:44:14.033 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 15:44:14.057 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 46.4906ms
2025-05-06 15:44:14.139 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.5345ms
2025-05-06 15:44:14.301 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 15:44:14.320 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.2481ms
2025-05-06 15:44:19.814 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Auth/test-exception - null null
2025-05-06 15:44:19.833 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.AuthController.TestError (HRM.API)'
2025-05-06 15:44:19.859 +07:00 [INF] Route matched with {action = "TestError", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestError() on controller HRM.API.Controllers.AuthController (HRM.API).
2025-05-06 15:44:20.036 +07:00 [INF] Executed action HRM.API.Controllers.AuthController.TestError (HRM.API) in 172.1512ms
2025-05-06 15:44:20.080 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.AuthController.TestError (HRM.API)'
2025-05-06 15:44:20.178 +07:00 [ERR] Test exception from controller
HRM.Application.Exceptions.NotFoundException: Test exception from controller
   at HRM.API.Controllers.AuthController.TestError() in D:\C# .Net Project\HRM\HRM.API\Controllers\AuthController.cs:line 18
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 15:44:20.260 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Auth/test-exception - 404 null application/json 445.7384ms
2025-05-06 15:44:32.462 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/TestException/notfound - null null
2025-05-06 15:44:32.471 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 15:44:32.474 +07:00 [INF] Route matched with {action = "TestNotFoundException", controller = "TestException"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestNotFoundException() on controller HRM.API.Controllers.TestExceptionController (HRM.API).
2025-05-06 15:44:32.476 +07:00 [INF] Testing NotFoundException
2025-05-06 15:44:32.595 +07:00 [INF] Executed action HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API) in 120.8669ms
2025-05-06 15:44:32.643 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.TestExceptionController.TestNotFoundException (HRM.API)'
2025-05-06 15:44:32.763 +07:00 [ERR] Test NotFoundException
HRM.Application.Exceptions.NotFoundException: Test NotFoundException
   at HRM.API.Controllers.TestExceptionController.TestNotFoundException() in D:\C# .Net Project\HRM\HRM.API\Controllers\TestExceptionController.cs:line 23
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 15:44:32.766 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/TestException/notfound - 404 null application/json 303.4256ms
2025-05-06 15:44:51.191 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44395/api/Department - application/json 144
2025-05-06 15:44:51.197 +07:00 [INF] CORS policy execution successful.
2025-05-06 15:44:51.199 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:44:51.217 +07:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRM.Application.DTOs.Department.DepartmentCreateDTO, System.Threading.CancellationToken) on controller HRM.API.Controllers.DepartmentController (HRM.API).
2025-05-06 15:44:51.585 +07:00 [INF] Executed action HRM.API.Controllers.DepartmentController.Create (HRM.API) in 367.529ms
2025-05-06 15:44:51.643 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:44:51.767 +07:00 [ERR] Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 46
   at HRM.API.Controllers.DepartmentController.Create(DepartmentCreateDTO request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\DepartmentController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 15:44:51.805 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44395/api/Department - 400 null application/json 614.5464ms
2025-05-06 15:46:01.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - null null
2025-05-06 15:46:01.184 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:01.190 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 15:46:06.019 +07:00 [INF] Executed DbCommand (191ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 15:46:06.281 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 15:46:06.287 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 5097.2454ms
2025-05-06 15:46:06.288 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:06.301 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - 200 null application/json; charset=utf-8 5120.4932ms
2025-05-06 15:46:16.954 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/3 - null null
2025-05-06 15:46:16.956 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:16.956 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 15:46:17.066 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 15:46:17.071 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 15:46:17.072 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 114.9795ms
2025-05-06 15:46:17.072 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:17.074 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/3 - 200 null application/json; charset=utf-8 120.8148ms
2025-05-06 15:46:20.167 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - null null
2025-05-06 15:46:20.170 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:20.170 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 15:46:20.197 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 15:46:20.983 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 813.0507ms
2025-05-06 15:46:21.227 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:22.213 +07:00 [ERR] No current roles found for User with ID = 1
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 1
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 26
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method20(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 15:46:22.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - 404 null application/json 2049.6993ms
2025-05-06 15:46:27.251 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/99 - null null
2025-05-06 15:46:27.253 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:27.254 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 15:46:27.258 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 15:46:27.992 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 737.9926ms
2025-05-06 15:46:28.240 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:29.131 +07:00 [ERR] No current roles found for User with ID = 99
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 99
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 26
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method20(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 15:46:29.135 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/99 - 404 null application/json 1884.3863ms
2025-05-06 15:46:35.062 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - null null
2025-05-06 15:46:35.065 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:35.065 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 15:46:35.069 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 15:46:35.070 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 15:46:35.071 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 5.6373ms
2025-05-06 15:46:35.071 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 15:46:35.073 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - 200 null application/json; charset=utf-8 11.3294ms
2025-05-06 15:59:16.205 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 15:59:16.483 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 15:59:16.560 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 15:59:16.560 +07:00 [INF] Hosting environment: Development
2025-05-06 15:59:16.560 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 15:59:16.831 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 404 null null 353.1903ms
2025-05-06 15:59:16.852 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 404
2025-05-06 15:59:17.416 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 15:59:17.416 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 15:59:17.486 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 71.7886ms
2025-05-06 15:59:17.503 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 89.3542ms
2025-05-06 15:59:17.563 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 15:59:17.586 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.2399ms
2025-05-06 15:59:45.625 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44395/api/Department - application/json 144
2025-05-06 15:59:45.683 +07:00 [INF] CORS policy execution successful.
2025-05-06 15:59:45.702 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:59:45.733 +07:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRM.Application.DTOs.Department.DepartmentCreateDTO, System.Threading.CancellationToken) on controller HRM.API.Controllers.DepartmentController (HRM.API).
2025-05-06 15:59:46.117 +07:00 [INF] Executed action HRM.API.Controllers.DepartmentController.Create (HRM.API) in 379.8026ms
2025-05-06 15:59:46.166 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 15:59:46.277 +07:00 [ERR] Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 46
   at HRM.API.Controllers.DepartmentController.Create(DepartmentCreateDTO request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\DepartmentController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 15:59:46.388 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44395/api/Department - 400 null application/json 762.6597ms
2025-05-06 16:00:08.218 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - null null
2025-05-06 16:00:08.226 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:00:08.234 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 16:00:11.053 +07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 16:00:11.300 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 16:00:11.308 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 3073.9101ms
2025-05-06 16:00:11.309 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:00:11.328 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/2 - 200 null application/json; charset=utf-8 3110.1411ms
2025-05-06 16:00:14.942 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - null null
2025-05-06 16:00:14.946 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:00:14.946 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 16:00:15.034 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 16:00:15.812 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 865.7531ms
2025-05-06 16:00:16.047 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:00:16.962 +07:00 [ERR] No current roles found for User with ID = 1
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 1
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 26
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 24
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 16:00:16.998 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - 404 null application/json 2055.6191ms
2025-05-06 16:00:52.166 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/3 - null null
2025-05-06 16:00:52.169 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:00:52.169 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 16:00:52.236 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 16:00:52.278 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-06 16:00:52.279 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 110.3584ms
2025-05-06 16:00:52.280 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:00:52.282 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/3 - 200 null application/json; charset=utf-8 116.7514ms
2025-05-06 16:13:14.116 +07:00 [INF] User profile is available. Using 'C:\Users\nvhoa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-06 16:13:14.350 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - null null
2025-05-06 16:13:14.412 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-06 16:13:14.412 +07:00 [INF] Hosting environment: Development
2025-05-06 16:13:14.412 +07:00 [INF] Content root path: D:\C# .Net Project\HRM\HRM.API
2025-05-06 16:13:14.622 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - 404 null null 276.4226ms
2025-05-06 16:13:14.642 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44395/, Response status code: 404
2025-05-06 16:13:38.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - null null
2025-05-06 16:13:38.796 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - null null
2025-05-06 16:13:38.865 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 131.2623ms
2025-05-06 16:13:38.903 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.9394ms
2025-05-06 16:13:38.963 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2025-05-06 16:13:38.988 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.2809ms
2025-05-06 16:14:50.296 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/3 - null null
2025-05-06 16:14:50.388 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:14:50.420 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRM.API.Middlewares.ApiResponse`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 16:14:53.251 +07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 16:14:53.506 +07:00 [INF] Executing OkObjectResult, writing value of type 'HRM.API.Middlewares.ApiResponse`1[[System.Collections.Generic.List`1[[HRM.Application.DTOs.Role.RoleResponseDTO, HRM.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-06 16:14:53.533 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 3107.7132ms
2025-05-06 16:14:53.534 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:14:53.553 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/3 - 200 null application/json; charset=utf-8 3259.2059ms
2025-05-06 16:15:41.786 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - null null
2025-05-06 16:15:41.799 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:15:41.800 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRM.API.Middlewares.ApiResponse`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 16:15:41.913 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 16:15:42.806 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 1005.5245ms
2025-05-06 16:15:43.032 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:15:44.025 +07:00 [ERR] No current roles found for User with ID = 1
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 1
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 26
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 25
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 16:15:44.066 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/1 - 404 null application/json 2280.5754ms
2025-05-06 16:16:55.893 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44395/api/Role/current/user/99 - null null
2025-05-06 16:16:55.898 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:16:55.898 +07:00 [INF] Route matched with {action = "GetCurrentRolesByUserId", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRM.API.Middlewares.ApiResponse`1[System.Collections.Generic.List`1[HRM.Application.DTOs.Role.RoleResponseDTO]]]] GetCurrentRolesByUserId(Int32, System.Threading.CancellationToken) on controller HRM.API.Controllers.RoleController (HRM.API).
2025-05-06 16:16:56.001 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[ProjectId], [u].[RoleId], [r].[Id], [r].[Description], [r].[Name], [p].[Id], [p].[Description], [p].[Name], [p1].[Id], [p1].[FromDate], [p1].[ProjectId], [p1].[Status], [p1].[ToDate]
FROM [UserProjectRoles] AS [u]
INNER JOIN [Projects] AS [p] ON [u].[ProjectId] = [p].[Id]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [ProjectStatuses] AS [p1] ON [p].[Id] = [p1].[ProjectId]
WHERE [u].[UserId] = @__userId_0 AND EXISTS (
    SELECT 1
    FROM [ProjectStatuses] AS [p0]
    WHERE [p].[Id] = [p0].[ProjectId] AND [p0].[Status] = N'InProgress' AND [p0].[ToDate] IS NULL)
ORDER BY [u].[UserId], [u].[ProjectId], [p].[Id], [r].[Id]
2025-05-06 16:16:56.549 +07:00 [INF] Executed action HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API) in 651.2755ms
2025-05-06 16:16:56.713 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.RoleController.GetCurrentRolesByUserId (HRM.API)'
2025-05-06 16:16:57.316 +07:00 [ERR] No current roles found for User with ID = 99
HRM.Application.Exceptions.NotFoundException: No current roles found for User with ID = 99
   at HRM.Application.UseCases.Role.Queries.GetCurrentRolesByUserIdQueryHandler.Handle(GetCurrentRolesByUserIdQuery request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\UseCases\Role\Queries\GetCurrentRolesByUserIdQueryHandle.cs:line 34
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 26
   at HRM.API.Controllers.RoleController.GetCurrentRolesByUserId(Int32 userId, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\RoleController.cs:line 25
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 16:16:57.319 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44395/api/Role/current/user/99 - 404 null application/json 1426.2372ms
2025-05-06 16:18:36.734 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44395/api/Department - application/json 144
2025-05-06 16:18:36.741 +07:00 [INF] CORS policy execution successful.
2025-05-06 16:18:36.742 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 16:18:36.753 +07:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRM.API.Middlewares.ApiResponse`1[System.Object]]] Create(HRM.Application.DTOs.Department.DepartmentCreateDTO, System.Threading.CancellationToken) on controller HRM.API.Controllers.DepartmentController (HRM.API).
2025-05-06 16:18:37.141 +07:00 [INF] Executed action HRM.API.Controllers.DepartmentController.Create (HRM.API) in 388.4235ms
2025-05-06 16:18:37.196 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 16:18:37.337 +07:00 [ERR] Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- DepartmentDto.Name: Department name must not exceed 100 characters. Severity: Error
   at HRM.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.Application\Behaviors\ValidationBehavior.cs:line 46
   at HRM.API.Controllers.DepartmentController.Create(DepartmentCreateDTO request, CancellationToken cancellationToken) in D:\C# .Net Project\HRM\HRM.API\Controllers\DepartmentController.cs:line 26
   at lambda_method234(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HRM.API.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in D:\C# .Net Project\HRM\HRM.API\Middlewares\ExceptionHandlingMiddleware.cs:line 26
2025-05-06 16:18:37.361 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44395/api/Department - 400 null application/json 627.238ms
2025-05-06 16:18:56.898 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44395/api/Department - application/json 49
2025-05-06 16:18:56.901 +07:00 [INF] CORS policy execution successful.
2025-05-06 16:18:56.901 +07:00 [INF] Executing endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 16:18:56.901 +07:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRM.API.Middlewares.ApiResponse`1[System.Object]]] Create(HRM.Application.DTOs.Department.DepartmentCreateDTO, System.Threading.CancellationToken) on controller HRM.API.Controllers.DepartmentController (HRM.API).
2025-05-06 16:18:57.154 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-05-06 16:18:57.193 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRM.API.Middlewares.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-06 16:18:57.235 +07:00 [INF] Executed action HRM.API.Controllers.DepartmentController.Create (HRM.API) in 333.2049ms
2025-05-06 16:18:57.235 +07:00 [INF] Executed endpoint 'HRM.API.Controllers.DepartmentController.Create (HRM.API)'
2025-05-06 16:18:57.238 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44395/api/Department - 201 null application/json; charset=utf-8 340.1659ms
